<!DOCTYPE html>

<html lang="en">
 <head>
  <meta charset="UTF-8" />
  <title>NOMADSInterface3_animation</title>
  <script src="Animation.js"></script>
  <script>

    // Main canvas and context references
    var canvas;
    var ctx;

    // Frames per second
    var fps = 60.0;

    // Animations
    var animations = [ new triggerSoundPath() ];

    function triggerSoundPath() {

      // Control and anchor points
      this.points = [
                    [ [326.4, 364.2], [295.7, 320.8], [264.9, 277.4], [233.3, 232.7] ]
                    ];

      // Linear motion index
      this.linear = [
                    [0, 0.00, 0.00], [0, 0.34, 0.33], [0, 0.67, 0.67], [0, 1.00, 1.00]
                    ];

      // Segment T boundaries
      this.segmentT = [1.00];

      this.lastValue = -1.0;
      this.x = 0;
      this.y = 0;
      this.orientation = 0.0;
      this.pathClock = new clock(1.00, 0.00, -1, true, 2, cubicEaseInOut, this.linear.length - 1, 1.00, 0.0000);

      // Update function
      this.update = updatePath;
    }

    function init() {

      // Set main canvas and context references
      canvas = document.getElementById("canvas");
      ctx = canvas.getContext("2d");

      // Initialize animations
      interactive2.scaleClock = new clock(5.00, 0.00, 1, false, 0, linear, 1.0, 1.00, 0.0001);
      interactive2.alphaClock = new clock(5.00, 0.00, -1, false, 0, linear, 1.0, 1.00, 0.0000);
      fixedPulsingSpeakers.scaleClock = new clock(5.00, 0.00, 1, false, 0, linear, 1.0, 1.00, 0.0001);
      fixedPulsingSpeakers.alphaClock = new clock(5.00, 0.00, -1, false, 0, linear, 1.0, 1.00, 0.0000);

      // Start animation clocks
      interactive2.scaleClock.start();
      interactive2.alphaClock.start();
      fixedPulsingSpeakers.scaleClock.start();
      fixedPulsingSpeakers.alphaClock.start();
      animations[0].pathClock.start();

      // Set animation timer
      setInterval(drawFrame, (1000 / fps));
    }

    function updateAnimations() {

      // Update animation clocks
      updateAllClocks();

      // Update animation paths  
      var animationCount = animations.length;
      for (var i = 0; i < animationCount; i++) {
        animations[i].update();
      }
    }

    function drawFrame() {

      // Update animations
      updateAnimations();

      // Clear canvas
      ctx.clearRect(0, 0, canvas.width, canvas.height);

      basicInterface(ctx);

      ctx.save();
      ctx.translate(animations[0].x, animations[0].y);
      ctx.scale(interactive2.scaleClock.value, interactive2.scaleClock.value);
      ctx.globalAlpha = interactive2.alphaClock.value;
      interactive2(ctx);
      ctx.restore();

      ctx.save();
      ctx.translate(233.8, 230.1);
      ctx.scale(fixedPulsingSpeakers.scaleClock.value, fixedPulsingSpeakers.scaleClock.value);
      ctx.globalAlpha = fixedPulsingSpeakers.alphaClock.value;
      fixedPulsingSpeakers(ctx);
      ctx.restore();

      draw(ctx);
    }

    function basicInterface(ctx) {

      var alpha = ctx.globalAlpha;

      // basicInterface/Path
      ctx.save();
      // This unsupported artwork has been rasterized
      ctx.drawImage(document.getElementById("image1"), -0.2, -0.7);

      // basicInterface/Type

      // basicInterface/Path
      // This unsupported artwork has been rasterized
      ctx.drawImage(document.getElementById("image2"), 14.0, 15.6);

      // basicInterface/Path
      // This unsupported artwork has been rasterized
      ctx.drawImage(document.getElementById("image3"), 52.7, 183.2);

      // basicInterface/Path
      // This unsupported artwork has been rasterized
      ctx.drawImage(document.getElementById("image4"), 162.7, 182.6);

      // basicInterface/Path
      // This unsupported artwork has been rasterized
      ctx.drawImage(document.getElementById("image5"), 195.9, 80.4);

      // basicInterface/Path
      // This unsupported artwork has been rasterized
      ctx.drawImage(document.getElementById("image6"), 107.9, 14.4);

      // basicInterface/Path
      // This unsupported artwork has been rasterized
      ctx.drawImage(document.getElementById("image7"), 18.7, 80.2);

      // basicInterface/Type

      // basicInterface/Path
      // This unsupported artwork has been rasterized
      ctx.drawImage(document.getElementById("image8"), 177.1, 13.6);

      // basicInterface/Path
      // This unsupported artwork has been rasterized
      ctx.drawImage(document.getElementById("image9"), 21.1, 127.3);

      // basicInterface/Path
      // This unsupported artwork has been rasterized
      ctx.drawImage(document.getElementById("image10"), 80.8, 308.5);

      // basicInterface/Path
      // This unsupported artwork has been rasterized
      ctx.drawImage(document.getElementById("image11"), 271.0, 308.2);

      // basicInterface/Path
      // This unsupported artwork has been rasterized
      ctx.drawImage(document.getElementById("image12"), 332.8, 126.2);
      ctx.restore();
    }

    function interactive2(ctx) {

      // interactive2/Path
      ctx.save();
      ctx.beginPath();
      ctx.moveTo(66.1, 0.0);
      ctx.bezierCurveTo(66.1, 36.5, 36.5, 66.1, 0.0, 66.1);
      ctx.bezierCurveTo(-36.5, 66.1, -66.1, 36.5, -66.1, 0.0);
      ctx.bezierCurveTo(-66.1, -36.5, -36.5, -66.1, 0.0, -66.1);
      ctx.bezierCurveTo(36.5, -66.1, 66.1, -36.5, 66.1, 0.0);
      ctx.closePath();
      ctx.fillStyle = "rgb(62, 49, 21)";
      ctx.fill();
      ctx.restore();
    }

    function fixedPulsingSpeakers(ctx) {

      // fixedPulsingSpeakers/Path
      ctx.save();
      ctx.beginPath();
      ctx.moveTo(30.4, -149.3);
      ctx.bezierCurveTo(30.4, -132.3, 16.6, -118.4, -0.5, -118.4);
      ctx.bezierCurveTo(-17.5, -118.4, -31.3, -132.3, -31.3, -149.3);
      ctx.bezierCurveTo(-31.3, -166.4, -17.5, -180.2, -0.5, -180.2);
      ctx.bezierCurveTo(16.6, -180.2, 30.4, -166.4, 30.4, -149.3);
      ctx.closePath();
      ctx.fillStyle = "rgb(254, 195, 47)";
      ctx.fill();

      // fixedPulsingSpeakers/Path
      ctx.beginPath();
      ctx.moveTo(197.5, -49.6);
      ctx.bezierCurveTo(197.5, -32.5, 183.6, -18.7, 166.6, -18.7);
      ctx.bezierCurveTo(149.5, -18.7, 135.7, -32.5, 135.7, -49.6);
      ctx.bezierCurveTo(135.7, -66.6, 149.5, -80.4, 166.6, -80.4);
      ctx.bezierCurveTo(183.6, -80.4, 197.5, -66.6, 197.5, -49.6);
      ctx.closePath();
      ctx.fill();

      // fixedPulsingSpeakers/Path
      ctx.beginPath();
      ctx.moveTo(-135.7, -49.6);
      ctx.bezierCurveTo(-135.7, -32.5, -149.5, -18.7, -166.6, -18.7);
      ctx.bezierCurveTo(-183.6, -18.7, -197.5, -32.5, -197.5, -49.6);
      ctx.bezierCurveTo(-197.5, -66.6, -183.6, -80.4, -166.6, -80.4);
      ctx.bezierCurveTo(-149.5, -80.4, -135.7, -66.6, -135.7, -49.6);
      ctx.closePath();
      ctx.fill();

      // fixedPulsingSpeakers/Path
      ctx.beginPath();
      ctx.moveTo(-77.8, 149.3);
      ctx.bezierCurveTo(-77.8, 166.4, -91.6, 180.2, -108.6, 180.2);
      ctx.bezierCurveTo(-125.7, 180.2, -139.5, 166.4, -139.5, 149.3);
      ctx.bezierCurveTo(-139.5, 132.3, -125.7, 118.4, -108.6, 118.4);
      ctx.bezierCurveTo(-91.6, 118.4, -77.8, 132.3, -77.8, 149.3);
      ctx.closePath();
      ctx.fill();

      // fixedPulsingSpeakers/Path
      ctx.beginPath();
      ctx.moveTo(134.2, 149.3);
      ctx.bezierCurveTo(134.2, 166.4, 120.4, 180.2, 103.4, 180.2);
      ctx.bezierCurveTo(86.3, 180.2, 72.5, 166.4, 72.5, 149.3);
      ctx.bezierCurveTo(72.5, 132.3, 86.3, 118.4, 103.4, 118.4);
      ctx.bezierCurveTo(120.4, 118.4, 134.2, 132.3, 134.2, 149.3);
      ctx.closePath();
      ctx.fill();
      ctx.restore();
    }

    function draw(ctx) {

      // pulsingSpeaker/
      ctx.save();
      ctx.restore();

      // speakers/Path
      ctx.save();
      ctx.beginPath();
      ctx.moveTo(250.8, 69.6);
      ctx.bezierCurveTo(250.8, 79.4, 242.9, 87.3, 233.1, 87.3);
      ctx.bezierCurveTo(223.3, 87.3, 215.3, 79.4, 215.3, 69.6);
      ctx.bezierCurveTo(215.3, 59.8, 223.3, 51.8, 233.1, 51.8);
      ctx.bezierCurveTo(242.9, 51.8, 250.8, 59.8, 250.8, 69.6);
      ctx.closePath();
      ctx.fill();

      // speakers/Path
      ctx.beginPath();
      ctx.moveTo(406.5, 182.1);
      ctx.bezierCurveTo(406.5, 191.9, 398.5, 199.9, 388.7, 199.9);
      ctx.bezierCurveTo(378.9, 199.9, 371.0, 191.9, 371.0, 182.1);
      ctx.bezierCurveTo(371.0, 172.3, 378.9, 164.4, 388.7, 164.4);
      ctx.bezierCurveTo(398.5, 164.4, 406.5, 172.3, 406.5, 182.1);
      ctx.closePath();
      ctx.fill();

      // speakers/Path
      ctx.beginPath();
      ctx.moveTo(94.8, 182.8);
      ctx.bezierCurveTo(94.8, 192.6, 86.9, 200.5, 77.1, 200.5);
      ctx.bezierCurveTo(67.3, 200.5, 59.3, 192.6, 59.3, 182.8);
      ctx.bezierCurveTo(59.3, 173.0, 67.3, 165.0, 77.1, 165.0);
      ctx.bezierCurveTo(86.9, 165.0, 94.8, 173.0, 94.8, 182.8);
      ctx.closePath();
      ctx.fill();

      // speakers/Path
      ctx.beginPath();
      ctx.moveTo(153.9, 363.6);
      ctx.bezierCurveTo(153.9, 373.4, 146.0, 381.4, 136.2, 381.4);
      ctx.bezierCurveTo(126.4, 381.4, 118.5, 373.4, 118.5, 363.6);
      ctx.bezierCurveTo(118.5, 353.8, 126.4, 345.9, 136.2, 345.9);
      ctx.bezierCurveTo(146.0, 345.9, 153.9, 353.8, 153.9, 363.6);
      ctx.closePath();
      ctx.fill();

      // speakers/Path
      ctx.beginPath();
      ctx.moveTo(344.0, 363.3);
      ctx.bezierCurveTo(344.0, 373.1, 336.1, 381.1, 326.3, 381.1);
      ctx.bezierCurveTo(316.5, 381.1, 308.5, 373.1, 308.5, 363.3);
      ctx.bezierCurveTo(308.5, 353.5, 316.5, 345.6, 326.3, 345.6);
      ctx.bezierCurveTo(336.1, 345.6, 344.0, 353.5, 344.0, 363.3);
      ctx.closePath();
      ctx.fill();
      ctx.restore();
    }
  </script>
 </head>
 <body onload="init()">
   <canvas id="canvas" width="465" height="465"></canvas>
   <img alt="Path" id="image1" style="display: none" src="image1.png" />
   <img alt="Path" id="image2" style="display: none" src="image2.png" />
   <img alt="Path" id="image3" style="display: none" src="image3.png" />
   <img alt="Path" id="image4" style="display: none" src="image4.png" />
   <img alt="Path" id="image5" style="display: none" src="image5.png" />
   <img alt="Path" id="image6" style="display: none" src="image6.png" />
   <img alt="Path" id="image7" style="display: none" src="image7.png" />
   <img alt="Path" id="image8" style="display: none" src="image8.png" />
   <img alt="Path" id="image9" style="display: none" src="image9.png" />
   <img alt="Path" id="image10" style="display: none" src="image10.png" />
   <img alt="Path" id="image11" style="display: none" src="image11.png" />
   <img alt="Path" id="image12" style="display: none" src="image12.png" />
 </body>
</html>